package ro.edu.ubb.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

import ro.edu.ubb.util.ConnectionManager;

public class Example {

	public static void main(String []args) {
		ConnectionManager cm= ConnectionManager.getInstance();
		Connection connection = cm.createConnection();
		boolean result;
		try {
		
			PreparedStatement preparedStatement = connection
					.prepareStatement("SELECT firstname FROM user WHERE username = ? and password = ?");
			preparedStatement.setString(1, "orsinemet");
			//preparedStatement.setString(2, SecureData.convertHexToString(SecureData.hashPassword(user.getPassword())));
			preparedStatement.setString(2, "19970629");
			ResultSet resultSet = preparedStatement.executeQuery();
			result = resultSet.next();
			System.out.println(resultSet.getString(1));
			preparedStatement.close();
			resultSet.close();
			
		} catch (SQLException e) {

			System.out.println("An error occured during the validation of user."+e);
		} finally {
			cm.closeConnection(connection);
		}
	}
}
